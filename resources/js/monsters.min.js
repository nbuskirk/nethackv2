Crafty.c("monster",{init:function(){this.hp=Crafty.math.randomInt(10,50);this.power=Crafty.math.randomInt(1,2);this.potionchance=Crafty.math.randomInt(1,4);this.requires("2D, Canvas, Collision, blink, spr_mob").onHit("hero",function(b){var a=b[0].obj;Crafty(a[0]).hurt(this.power);this.hurt(a.power);this.playerfacing=a.playerfacing;switch(a.playerfacing){case"up":a.y+=32;this.y-=32;break;case"down":a.y-=32;this.y+=32;break;case"left":a.x+=32;this.x-=32;break;case"right":a.x-=32;this.x+=32;break}}).onHit("solid",function(a){switch(this.playerfacing){case"up":this.y+=32;break;case"down":this.y-=32;break;case"left":this.x+=32;break;case"right":this.x-=32;break}});return this},hurt:function(a){this.blink=true;this.hp-=a;if(this.hp<=0){this.die()}},die:function(){this.destroy();logtext("Killed monster ID: "+this[0]);Crafty.e("explode").attr({x:this.x,y:this.y,z:1,potionchance:this.potionchance}).animate("explode1",1,0)}});